import 'dart:convert';

String injectJs = utf8.fuse(base64).decode("d2luZG93Ll9iaXRpemVuQ29uc29sZSA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnNvbGUpCmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7CiAgICAvLyDlpoLmnpwgc2VydmljZVdvcmtlciDnvJPlrZjkuoYgaHRtbO+8jOS8muWGsuaOieW1jOWFpeiEmuacrAogICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgX2JpdGl6ZW5Db25zb2xlLndhcm4oIkJpdGl6ZW46IFtkZWJ1Z10gc2VydmljZVdvcmtlci5yZWdpc3RlciBkaXNhYmxlZCIpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgiQml0aXplbjogW2RlYnVnXSBzZXJ2aWNlV29ya2VyLnJlZ2lzdGVyIGRpc2FibGVkIikKICAgIH0KfQpfYml0aXplbkNvbnNvbGUubG9nKCJCaXRpemVuOiBbZGVidWddIGluamVjdCBzdGFydGVkIikKaWYgKHNob3VsZEluamVjdCgpKSB7CiAgICBpbmplY3RTY3JpcHQoZGVjb2RlVVJJQ29tcG9uZW50KGAjQklUSVpFTl9JTkpFQ1QjYCkpCiAgICB3aW5kb3cuZXRoZXJldW0uaXNNZXRhTWFzayA9IHRydWUgLy8gb3BlbnNlYS5pbyByZXF1aXJlZCB0aGlzCiAgICB3aW5kb3cuZXRoZXJldW0uY2hhaW5JZCA9ICIjQklUSVpFTl9DSEFJTklEIyIKICAgIC8vIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZXRoZXJldW0jaW5pdGlhbGl6ZWQnKSkKICAgIF9iaXRpemVuQ29uc29sZS5sb2coIkJpdGl6ZW46IFtkZWJ1Z10gaW5qZWN0IGZpbmlzaGVkIiwgd2luZG93LmV0aGVyZXVtLnZlcnNpb24pCgogICAgY29uc3QgZGVidWcgPSAiI0JJVElaRU5fREVCVUcjIgogICAgaWYgKGRlYnVnKSB7CiAgICAgICAgd2luZG93LmV0aGVyZXVtLmRlYnVnID0gdHJ1ZQogICAgICAgIGluamVjdFNjcmlwdCgiIiwgIi8vdW5wa2cuY29tL3Zjb25zb2xlQGxhdGVzdC9kaXN0L3Zjb25zb2xlLm1pbi5qcyIpCiAgICB9IGVsc2UgewogICAgICAgIF9iaXRpemVuQ29uc29sZS5kZWJ1ZyA9ICgpID0+IHsgfQogICAgfQoKICAgIHN0YXJ0KGRlYnVnKTsKfQoKLy8gRnVuY3Rpb25zCgovKioKICogU2V0cyB1cCB0aGUgc3RyZWFtIGNvbW11bmljYXRpb24gYW5kIHN1Ym1pdHMgc2l0ZSBtZXRhZGF0YQogKgogKi8KYXN5bmMgZnVuY3Rpb24gc3RhcnQoZGVidWcpIHsKICAgIGF3YWl0IGRvbUlzUmVhZHkoKTsKCiAgICBpZiAoZGVidWcpIHsKICAgICAgICAoYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aGlsZSAod2luZG93LlZDb25zb2xlID09IG51bGwpIHsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAxMDApKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBuZXcgd2luZG93LlZDb25zb2xlKCk7CiAgICAgICAgfSkoKQogICAgfQp9CgovKioKICogSW5qZWN0cyBhIHNjcmlwdCB0YWcgaW50byB0aGUgY3VycmVudCBkb2N1bWVudAogKgogKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIENvZGUgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQKICovCmZ1bmN0aW9uIGluamVjdFNjcmlwdChjb250ZW50LCBzcmMpIHsKICAgIHRyeSB7CiAgICAgICAgaWYgKCFjb250ZW50ICYmICFzcmMpIHsKICAgICAgICAgICAgdGhyb3cgIkVtcHR5IGNvbnRlbnQiCiAgICAgICAgfQoKICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCiAgICAgICAgLy8gc3luY2hyb25vdXNseSBleGVjdXRlIHNjcmlwdCBpbiBwYWdlIGNvbnRleHQKICAgICAgICBjb25zdCBzY3JpcHRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdhc3luYycsIGZhbHNlKTsKICAgICAgICBpZiAoY29udGVudCkgewogICAgICAgICAgICBzY3JpcHRUYWcudGV4dENvbnRlbnQgPSBjb250ZW50OwogICAgICAgIH0KICAgICAgICBpZiAoc3JjKSB7CiAgICAgICAgICAgIHNjcmlwdFRhZy5zcmMgPSBzcmMKICAgICAgICB9CiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzY3JpcHRUYWcsIGNvbnRhaW5lci5jaGlsZHJlblswXSk7CgogICAgICAgIC8vIHNjcmlwdCBleGVjdXRlZDsgcmVtb3ZlIHNjcmlwdCBlbGVtZW50IGZyb20gRE9NCiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHNjcmlwdFRhZyk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfYml0aXplbkNvbnNvbGUuZXJyb3IoJ0JpdGl6ZW4gc2NyaXB0IGluamVjdGlvbiBmYWlsZWQnLCBlcnIpOwogICAgfQp9CgovKioKICogRGV0ZXJtaW5lcyBpZiB0aGUgcHJvdmlkZXIgc2hvdWxkIGJlIGluamVjdGVkLgogKgogKiBAcmV0dXJucyB7Ym9vbGVhbn0ge0Bjb2RlIHRydWV9IGlmIHRoZSBwcm92aWRlciBzaG91bGQgYmUgaW5qZWN0ZWQuCiAqLwpmdW5jdGlvbiBzaG91bGRJbmplY3QoKSB7CiAgICByZXR1cm4gKAogICAgICAgIGRvY3R5cGVDaGVjaygpICYmCiAgICAgICAgc3VmZml4Q2hlY2soKSAmJgogICAgICAgIGRvY3VtZW50RWxlbWVudENoZWNrKCkgJiYKICAgICAgICAhYmxvY2tlZERvbWFpbkNoZWNrKCkKICAgICk7Cn0KCi8qKgogKiBDaGVja3MgdGhlIGRvY3R5cGUgb2YgdGhlIGN1cnJlbnQgZG9jdW1lbnQgaWYgaXQgZXhpc3RzCiAqCiAqIEByZXR1cm5zIHtib29sZWFufSB7QGNvZGUgdHJ1ZX0gaWYgdGhlIGRvY3R5cGUgaXMgaHRtbCBvciBpZiBub25lIGV4aXN0cwogKi8KZnVuY3Rpb24gZG9jdHlwZUNoZWNrKCkgewogICAgY29uc3QgeyBkb2N0eXBlIH0gPSB3aW5kb3cuZG9jdW1lbnQ7CiAgICBpZiAoZG9jdHlwZSkgewogICAgICAgIHJldHVybiBkb2N0eXBlLm5hbWUgPT09ICdodG1sJzsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgovKioKICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZXh0ZW5zaW9uIChzdWZmaXgpIG9mIHRoZSBjdXJyZW50IGRvY3VtZW50IGlzCiAqIHByb2hpYml0ZWQuCiAqCiAqIFRoaXMgY2hlY2tzIHtAY29kZSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9IGFnYWluc3QgYSBzZXQgb2YgZmlsZSBleHRlbnNpb25zCiAqIHRoYXQgc2hvdWxkIG5vdCBoYXZlIHRoZSBwcm92aWRlciBpbmplY3RlZCBpbnRvIHRoZW0uIFRoaXMgY2hlY2sgaXMgaW5kaWZmZXJlbnQKICogb2YgcXVlcnkgcGFyYW1ldGVycyBpbiB0aGUgbG9jYXRpb24uCiAqCiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCB0aGUgZXh0ZW5zaW9uIG9mIHRoZSBjdXJyZW50IGRvY3VtZW50IGlzIHByb2hpYml0ZWQKICovCmZ1bmN0aW9uIHN1ZmZpeENoZWNrKCkgewogICAgY29uc3QgcHJvaGliaXRlZFR5cGVzID0gWy9cXC54bWwkL3UsIC9cXC5wZGYkL3VdOwogICAgY29uc3QgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvaGliaXRlZFR5cGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHByb2hpYml0ZWRUeXBlc1tpXS50ZXN0KGN1cnJlbnRVcmwpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKLyoqCiAqIENoZWNrcyB0aGUgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBjdXJyZW50IGRvY3VtZW50CiAqCiAqIEByZXR1cm5zIHtib29sZWFufSB7QGNvZGUgdHJ1ZX0gaWYgdGhlIGRvY3VtZW50RWxlbWVudCBpcyBhbiBodG1sIG5vZGUgb3IgaWYgbm9uZSBleGlzdHMKICovCmZ1bmN0aW9uIGRvY3VtZW50RWxlbWVudENoZWNrKCkgewogICAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lOwogICAgaWYgKGRvY3VtZW50RWxlbWVudCkgewogICAgICAgIHJldHVybiBkb2N1bWVudEVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gJ2h0bWwnOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCi8qKgogKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgZG9tYWluIGlzIGJsb2NrZWQKICoKICogQHJldHVybnMge2Jvb2xlYW59IHtAY29kZSB0cnVlfSBpZiB0aGUgY3VycmVudCBkb21haW4gaXMgYmxvY2tlZAogKi8KZnVuY3Rpb24gYmxvY2tlZERvbWFpbkNoZWNrKCkgewogICAgY29uc3QgYmxvY2tlZERvbWFpbnMgPSBbCiAgICAgICAgJ3VzY291cnRzLmdvdicsCiAgICAgICAgJ2Ryb3Bib3guY29tJywKICAgICAgICAnd2ViYnlhd2FyZHMuY29tJywKICAgICAgICAnY2RuLnNob3BpZnkuY29tL3MvamF2YXNjcmlwdHMvdHJpY29yZGVyL3h0bGQtcmVhZC1vbmx5LWZyYW1lLmh0bWwnLAogICAgICAgICdhZHllbi5jb20nLAogICAgICAgICdncmF2aXR5Zm9ybXMuY29tJywKICAgICAgICAnaGFyYm91cmFpci5jb20nLAogICAgICAgICdhbmkuZ2FtZXIuY29tLnR3JywKICAgICAgICAnYmx1ZXNreWJvb2tpbmcuY29tJywKICAgICAgICAnc2hhcmVmaWxlLmNvbScsCiAgICBdOwogICAgY29uc3QgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgbGV0IGN1cnJlbnRSZWdleDsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2tlZERvbWFpbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBibG9ja2VkRG9tYWluID0gYmxvY2tlZERvbWFpbnNbaV0ucmVwbGFjZSgnLicsICdcXC4nKTsKICAgICAgICBjdXJyZW50UmVnZXggPSBuZXcgUmVnRXhwKAogICAgICAgICAgICBgKD86aHR0cHM/OlxcL1xcLykoPzooPyEke2Jsb2NrZWREb21haW59KS4pKiRgLAogICAgICAgICAgICAndScsCiAgICAgICAgKTsKICAgICAgICBpZiAoIWN1cnJlbnRSZWdleC50ZXN0KGN1cnJlbnRVcmwpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKLyoqCiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgRE9NIGlzIGxvYWRlZCAoZG9lcyBub3Qgd2FpdCBmb3IgaW1hZ2VzIHRvIGxvYWQpCiAqLwphc3luYyBmdW5jdGlvbiBkb21Jc1JlYWR5KCkgewogICAgLy8gYWxyZWFkeSBsb2FkZWQKICAgIGlmIChbJ2ludGVyYWN0aXZlJywgJ2NvbXBsZXRlJ10uaW5jbHVkZXMoZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICAvLyB3YWl0IGZvciBsb2FkCiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KSwKICAgICk7Cn0=");
String injectJsBundle = Uri.encodeComponent(utf8.fuse(base64).decode("cGFyY2VsUmVxdWlyZT1mdW5jdGlvbihlLHIsdCxuKXt2YXIgaSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBwYXJjZWxSZXF1aXJlJiZwYXJjZWxSZXF1aXJlLHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7ZnVuY3Rpb24gZih0LG4pe2lmKCFyW3RdKXtpZighZVt0XSl7dmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHBhcmNlbFJlcXVpcmUmJnBhcmNlbFJlcXVpcmU7aWYoIW4mJmkpcmV0dXJuIGkodCwhMCk7aWYobylyZXR1cm4gbyh0LCEwKTtpZih1JiYic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHUodCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrdCsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY31wLnJlc29sdmU9ZnVuY3Rpb24ocil7cmV0dXJuIGVbdF1bMV1bcl18fHJ9LHAuY2FjaGU9e307dmFyIGw9clt0XT1uZXcgZi5Nb2R1bGUodCk7ZVt0XVswXS5jYWxsKGwuZXhwb3J0cyxwLGwsbC5leHBvcnRzLHRoaXMpfXJldHVybiByW3RdLmV4cG9ydHM7ZnVuY3Rpb24gcChlKXtyZXR1cm4gZihwLnJlc29sdmUoZSkpfX1mLmlzUGFyY2VsUmVxdWlyZT0hMCxmLk1vZHVsZT1mdW5jdGlvbihlKXt0aGlzLmlkPWUsdGhpcy5idW5kbGU9Zix0aGlzLmV4cG9ydHM9e319LGYubW9kdWxlcz1lLGYuY2FjaGU9cixmLnBhcmVudD1vLGYucmVnaXN0ZXI9ZnVuY3Rpb24ocix0KXtlW3JdPVtmdW5jdGlvbihlLHIpe3IuZXhwb3J0cz10fSx7fV19O2Zvcih2YXIgYz0wO2M8dC5sZW5ndGg7YysrKXRyeXtmKHRbY10pfWNhdGNoKGUpe2l8fChpPWUpfWlmKHQubGVuZ3RoKXt2YXIgbD1mKHRbdC5sZW5ndGgtMV0pOyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bDoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBsfSk6biYmKHRoaXNbbl09bCl9aWYocGFyY2VsUmVxdWlyZT1mLGkpdGhyb3cgaTtyZXR1cm4gZn0oeyJhMkN6IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewptb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihuKXtyZXR1cm4odCxlLGEsbCk9PntsZXQgYztjb25zdCBvPW5ldyBQcm9taXNlKG49PntjPW59KTtsZXQgcyx1O24odCxlLGFzeW5jKCk9Pnt1PSEwLGEobj0+e3M9bixjKCl9KSxhd2FpdCBvfSkudGhlbihhc3luYygpPT57dT8oYXdhaXQgbyxzKG51bGwpKTpsKG51bGwpfSkuY2F0Y2gobj0+e3M/cyhuKTpsKG4pfSl9fTsKfSx7fV0sInZleFIiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7Cm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG8pe3JldHVybiBvJiYib2JqZWN0Ij09dHlwZW9mIG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBvLmNvcHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBvLmZpbGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBvLnJlYWRVSW50OH07Cn0se31dLCJ0Y3JHIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3Quc3VwZXJfPWUsdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9Om1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5zdXBlcl89ZTt2YXIgbz1mdW5jdGlvbigpe307by5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG8sdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH07Cn0se31dLCJwQkd2IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoKdmFyIHQsZSxuPW1vZHVsZS5leHBvcnRzPXt9O2Z1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBpKGUpe2lmKHQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHQ9PT1yfHwhdCkmJnNldFRpbWVvdXQpcmV0dXJuIHQ9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiB0KGUsMCl9Y2F0Y2gobil7dHJ5e3JldHVybiB0LmNhbGwobnVsbCxlLDApfWNhdGNoKG4pe3JldHVybiB0LmNhbGwodGhpcyxlLDApfX19ZnVuY3Rpb24gdSh0KXtpZihlPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGU9PT1vfHwhZSkmJmNsZWFyVGltZW91dClyZXR1cm4gZT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gZSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIGUuY2FsbChudWxsLHQpfWNhdGNoKG4pe3JldHVybiBlLmNhbGwodGhpcyx0KX19fSFmdW5jdGlvbigpe3RyeXt0PSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6cn1jYXRjaChuKXt0PXJ9dHJ5e2U9ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaChuKXtlPW99fSgpO3ZhciBjLHM9W10sbD0hMSxhPS0xO2Z1bmN0aW9uIGYoKXtsJiZjJiYobD0hMSxjLmxlbmd0aD9zPWMuY29uY2F0KHMpOmE9LTEscy5sZW5ndGgmJmgoKSl9ZnVuY3Rpb24gaCgpe2lmKCFsKXt2YXIgdD1pKGYpO2w9ITA7Zm9yKHZhciBlPXMubGVuZ3RoO2U7KXtmb3IoYz1zLHM9W107KythPGU7KWMmJmNbYV0ucnVuKCk7YT0tMSxlPXMubGVuZ3RofWM9bnVsbCxsPSExLHUodCl9fWZ1bmN0aW9uIG0odCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBwKCl7fW4ubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtzLnB1c2gobmV3IG0odCxlKSksMSE9PXMubGVuZ3RofHxsfHxpKGgpfSxtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxuLnRpdGxlPSJicm93c2VyIixuLmVudj17fSxuLmFyZ3Y9W10sbi52ZXJzaW9uPSIiLG4udmVyc2lvbnM9e30sbi5vbj1wLG4uYWRkTGlzdGVuZXI9cCxuLm9uY2U9cCxuLm9mZj1wLG4ucmVtb3ZlTGlzdGVuZXI9cCxuLnJlbW92ZUFsbExpc3RlbmVycz1wLG4uZW1pdD1wLG4ucHJlcGVuZExpc3RlbmVyPXAsbi5wcmVwZW5kT25jZUxpc3RlbmVyPXAsbi5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuW119LG4uYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LG4uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxuLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LG4udW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Cn0se31dLCJnZlVuIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewp2YXIgcHJvY2VzcyA9IHJlcXVpcmUoInByb2Nlc3MiKTsKdmFyIGU9cmVxdWlyZSgicHJvY2VzcyIpLHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnN8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPXt9LG49MDtuPHQubGVuZ3RoO24rKylyW3Rbbl1dPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0W25dKTtyZXR1cm4gcn0scj0vJVtzZGolXS9nO2V4cG9ydHMuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCF2KGUpKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGkoYXJndW1lbnRzW25dKSk7cmV0dXJuIHQuam9pbigiICIpfW49MTtmb3IodmFyIG89YXJndW1lbnRzLHU9by5sZW5ndGgscz1TdHJpbmcoZSkucmVwbGFjZShyLGZ1bmN0aW9uKGUpe2lmKCIlJSI9PT1lKXJldHVybiIlIjtpZihuPj11KXJldHVybiBlO3N3aXRjaChlKXtjYXNlIiVzIjpyZXR1cm4gU3RyaW5nKG9bbisrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihvW24rK10pO2Nhc2UiJWoiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkob1tuKytdKX1jYXRjaCh0KXtyZXR1cm4iW0NpcmN1bGFyXSJ9ZGVmYXVsdDpyZXR1cm4gZX19KSxjPW9bbl07bjx1O2M9b1srK25dKWgoYyl8fCFTKGMpP3MrPSIgIitjOnMrPSIgIitpKGMpO3JldHVybiBzfSxleHBvcnRzLmRlcHJlY2F0ZT1mdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PWUmJiEwPT09ZS5ub0RlcHJlY2F0aW9uKXJldHVybiB0O2lmKHZvaWQgMD09PWUpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKHQscikuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighbil7aWYoZS50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihyKTtlLnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShyKTpjb25zb2xlLmVycm9yKHIpLG49ITB9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07dmFyIG4sbz17fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9e3NlZW46W10sc3R5bGl6ZTpzfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKHIuZGVwdGg9YXJndW1lbnRzWzJdKSxhcmd1bWVudHMubGVuZ3RoPj00JiYoci5jb2xvcnM9YXJndW1lbnRzWzNdKSxiKHQpP3Iuc2hvd0hpZGRlbj10OnQmJmV4cG9ydHMuX2V4dGVuZChyLHQpLGooci5zaG93SGlkZGVuKSYmKHIuc2hvd0hpZGRlbj0hMSksaihyLmRlcHRoKSYmKHIuZGVwdGg9MiksaihyLmNvbG9ycykmJihyLmNvbG9ycz0hMSksaihyLmN1c3RvbUluc3BlY3QpJiYoci5jdXN0b21JbnNwZWN0PSEwKSxyLmNvbG9ycyYmKHIuc3R5bGl6ZT11KSxwKHIsZSxyLmRlcHRoKX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9aS5zdHlsZXNbdF07cmV0dXJuIHI/IhtbIitpLmNvbG9yc1tyXVswXSsibSIrZSsiG1siK2kuY29sb3JzW3JdWzFdKyJtIjplfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZX1mdW5jdGlvbiBjKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0W2VdPSEwfSksdH1mdW5jdGlvbiBwKGUsdCxyKXtpZihlLmN1c3RvbUluc3BlY3QmJnQmJlAodC5pbnNwZWN0KSYmdC5pbnNwZWN0IT09ZXhwb3J0cy5pbnNwZWN0JiYoIXQuY29uc3RydWN0b3J8fHQuY29uc3RydWN0b3IucHJvdG90eXBlIT09dCkpe3ZhciBuPXQuaW5zcGVjdChyLGUpO3JldHVybiB2KG4pfHwobj1wKGUsbixyKSksbn12YXIgbz1sKGUsdCk7aWYobylyZXR1cm4gbzt2YXIgaT1PYmplY3Qua2V5cyh0KSx1PWMoaSk7aWYoZS5zaG93SGlkZGVuJiYoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KSksRSh0KSYmKGkuaW5kZXhPZigibWVzc2FnZSIpPj0wfHxpLmluZGV4T2YoImRlc2NyaXB0aW9uIik+PTApKXJldHVybiBmKHQpO2lmKDA9PT1pLmxlbmd0aCl7aWYoUCh0KSl7dmFyIHM9dC5uYW1lPyI6ICIrdC5uYW1lOiIiO3JldHVybiBlLnN0eWxpemUoIltGdW5jdGlvbiIrcysiXSIsInNwZWNpYWwiKX1pZih3KHQpKXJldHVybiBlLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJyZWdleHAiKTtpZih6KHQpKXJldHVybiBlLnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwiZGF0ZSIpO2lmKEUodCkpcmV0dXJuIGYodCl9dmFyIGIsaD0iIixtPSExLHg9WyJ7IiwifSJdOyhkKHQpJiYobT0hMCx4PVsiWyIsIl0iXSksUCh0KSkmJihoPSIgW0Z1bmN0aW9uIisodC5uYW1lPyI6ICIrdC5uYW1lOiIiKSsiXSIpO3JldHVybiB3KHQpJiYoaD0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSx6KHQpJiYoaD0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh0KSksRSh0KSYmKGg9IiAiK2YodCkpLDAhPT1pLmxlbmd0aHx8bSYmMCE9dC5sZW5ndGg/cjwwP3codCk/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik6ZS5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKTooZS5zZWVuLnB1c2godCksYj1tP2EoZSx0LHIsdSxpKTppLm1hcChmdW5jdGlvbihuKXtyZXR1cm4geShlLHQscix1LG4sbSl9KSxlLnNlZW4ucG9wKCksZyhiLGgseCkpOnhbMF0raCt4WzFdfWZ1bmN0aW9uIGwoZSx0KXtpZihqKHQpKXJldHVybiBlLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHYodCkpe3ZhciByPSInIitKU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBlLnN0eWxpemUociwic3RyaW5nIil9cmV0dXJuIHgodCk/ZS5zdHlsaXplKCIiK3QsIm51bWJlciIpOmIodCk/ZS5zdHlsaXplKCIiK3QsImJvb2xlYW4iKTpoKHQpP2Uuc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9ZnVuY3Rpb24gZihlKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrIl0ifWZ1bmN0aW9uIGEoZSx0LHIsbixvKXtmb3IodmFyIGk9W10sdT0wLHM9dC5sZW5ndGg7dTxzOysrdSlBKHQsU3RyaW5nKHUpKT9pLnB1c2goeShlLHQscixuLFN0cmluZyh1KSwhMCkpOmkucHVzaCgiIik7cmV0dXJuIG8uZm9yRWFjaChmdW5jdGlvbihvKXtvLm1hdGNoKC9eXGQrJC8pfHxpLnB1c2goeShlLHQscixuLG8sITApKX0pLGl9ZnVuY3Rpb24geShlLHQscixuLG8saSl7dmFyIHUscyxjO2lmKChjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxvKXx8e3ZhbHVlOnRbb119KS5nZXQ/cz1jLnNldD9lLnN0eWxpemUoIltHZXR0ZXIvU2V0dGVyXSIsInNwZWNpYWwiKTplLnN0eWxpemUoIltHZXR0ZXJdIiwic3BlY2lhbCIpOmMuc2V0JiYocz1lLnN0eWxpemUoIltTZXR0ZXJdIiwic3BlY2lhbCIpKSxBKG4sbyl8fCh1PSJbIitvKyJdIiksc3x8KGUuc2Vlbi5pbmRleE9mKGMudmFsdWUpPDA/KHM9aChyKT9wKGUsYy52YWx1ZSxudWxsKTpwKGUsYy52YWx1ZSxyLTEpKS5pbmRleE9mKCJcbiIpPi0xJiYocz1pP3Muc3BsaXQoIlxuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIgICIrZX0pLmpvaW4oIlxuIikuc3Vic3RyKDIpOiJcbiIrcy5zcGxpdCgiXG4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiAgICIrZX0pLmpvaW4oIlxuIikpOnM9ZS5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpKSxqKHUpKXtpZihpJiZvLm1hdGNoKC9eXGQrJC8pKXJldHVybiBzOyh1PUpTT04uc3RyaW5naWZ5KCIiK28pKS5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pPyh1PXUuc3Vic3RyKDEsdS5sZW5ndGgtMiksdT1lLnN0eWxpemUodSwibmFtZSIpKToodT11LnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC8oXiJ8IiQpL2csIiciKSx1PWUuc3R5bGl6ZSh1LCJzdHJpbmciKSl9cmV0dXJuIHUrIjogIitzfWZ1bmN0aW9uIGcoZSx0LHIpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiAwLHQuaW5kZXhPZigiXG4iKT49MCYmMCxlK3QucmVwbGFjZSgvXHUwMDFiXFtcZFxkP20vZywiIikubGVuZ3RoKzF9LDApPjYwP3JbMF0rKCIiPT09dD8iIjp0KyJcbiAiKSsiICIrZS5qb2luKCIsXG4gICIpKyIgIityWzFdOnJbMF0rdCsiICIrZS5qb2luKCIsICIpKyIgIityWzFdfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gYihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24geChlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24gTyhlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9ZnVuY3Rpb24gaihlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiB3KGUpe3JldHVybiBTKGUpJiYiW29iamVjdCBSZWdFeHBdIj09PVQoZSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIHooZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IERhdGVdIj09PVQoZSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gUyhlKSYmKCJbb2JqZWN0IEVycm9yXSI9PT1UKGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gRChlKXtyZXR1cm4gbnVsbD09PWV8fCJib29sZWFuIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZXx8InN0cmluZyI9PXR5cGVvZiBlfHwic3ltYm9sIj09dHlwZW9mIGV8fHZvaWQgMD09PWV9ZnVuY3Rpb24gVChlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGU8MTA/IjAiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfWV4cG9ydHMuZGVidWdsb2c9ZnVuY3Rpb24odCl7aWYoaihuKSYmKG49IiIpLHQ9dC50b1VwcGVyQ2FzZSgpLCFvW3RdKWlmKG5ldyBSZWdFeHAoIlxcYiIrdCsiXFxiIiwiaSIpLnRlc3Qobikpe3ZhciByPWUucGlkO29bdF09ZnVuY3Rpb24oKXt2YXIgZT1leHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIix0LHIsZSl9fWVsc2Ugb1t0XT1mdW5jdGlvbigpe307cmV0dXJuIG9bdF19LGV4cG9ydHMuaW5zcGVjdD1pLGkuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxpLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLGJvb2xlYW46InllbGxvdyIsdW5kZWZpbmVkOiJncmV5IixudWxsOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9LGV4cG9ydHMuaXNBcnJheT1kLGV4cG9ydHMuaXNCb29sZWFuPWIsZXhwb3J0cy5pc051bGw9aCxleHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkPW0sZXhwb3J0cy5pc051bWJlcj14LGV4cG9ydHMuaXNTdHJpbmc9dixleHBvcnRzLmlzU3ltYm9sPU8sZXhwb3J0cy5pc1VuZGVmaW5lZD1qLGV4cG9ydHMuaXNSZWdFeHA9dyxleHBvcnRzLmlzT2JqZWN0PVMsZXhwb3J0cy5pc0RhdGU9eixleHBvcnRzLmlzRXJyb3I9RSxleHBvcnRzLmlzRnVuY3Rpb249UCxleHBvcnRzLmlzUHJpbWl0aXZlPUQsZXhwb3J0cy5pc0J1ZmZlcj1yZXF1aXJlKCIuL3N1cHBvcnQvaXNCdWZmZXIiKTt2YXIgRj1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdO2Z1bmN0aW9uIGsoKXt2YXIgZT1uZXcgRGF0ZSx0PVtOKGUuZ2V0SG91cnMoKSksTihlLmdldE1pbnV0ZXMoKSksTihlLmdldFNlY29uZHMoKSldLmpvaW4oIjoiKTtyZXR1cm5bZS5nZXREYXRlKCksRltlLmdldE1vbnRoKCldLHRdLmpvaW4oIiAiKX1mdW5jdGlvbiBBKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfWV4cG9ydHMubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coIiVzIC0gJXMiLGsoKSxleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLGFyZ3VtZW50cykpfSxleHBvcnRzLmluaGVyaXRzPXJlcXVpcmUoImluaGVyaXRzIiksZXhwb3J0cy5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxuPXIubGVuZ3RoO24tLTspZVtyW25dXT10W3Jbbl1dO3JldHVybiBlfTt2YXIgSj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbD9TeW1ib2woInV0aWwucHJvbWlzaWZ5LmN1c3RvbSIpOnZvaWQgMDtmdW5jdGlvbiBSKGUsdCl7aWYoIWUpe3ZhciByPW5ldyBFcnJvcigiUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIGZhbHN5IHZhbHVlIik7ci5yZWFzb249ZSxlPXJ9cmV0dXJuIHQoZSl9ZnVuY3Rpb24gSChyKXtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgIm9yaWdpbmFsIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtmdW5jdGlvbiBuKCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO3ZhciBvPXQucG9wKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGxhc3QgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uIik7dmFyIGk9dGhpcyx1PWZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkoaSxhcmd1bWVudHMpfTtyLmFwcGx5KHRoaXMsdCkudGhlbihmdW5jdGlvbih0KXtlLm5leHRUaWNrKHUsbnVsbCx0KX0sZnVuY3Rpb24odCl7ZS5uZXh0VGljayhSLHQsdSl9KX1yZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sT2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHQocikpLG59ZXhwb3J0cy5wcm9taXNpZnk9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJvcmlnaW5hbCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7aWYoSiYmZVtKXSl7dmFyIHI7aWYoImZ1bmN0aW9uIiE9dHlwZW9mKHI9ZVtKXSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ1dGlsLnByb21pc2lmeS5jdXN0b20iIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocixKLHt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscn1mdW5jdGlvbiByKCl7Zm9yKHZhciB0LHIsbj1uZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe3Q9ZSxyPW59KSxvPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW8ucHVzaChhcmd1bWVudHNbaV0pO28ucHVzaChmdW5jdGlvbihlLG4pe2U/cihlKTp0KG4pfSk7dHJ5e2UuYXBwbHkodGhpcyxvKX1jYXRjaCh1KXtyKHUpfXJldHVybiBufXJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YocixPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLEomJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLEose3ZhbHVlOnIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLHQoZSkpfSxleHBvcnRzLnByb21pc2lmeS5jdXN0b209SixleHBvcnRzLmNhbGxiYWNraWZ5PUg7Cn0seyIuL3N1cHBvcnQvaXNCdWZmZXIiOiJ2ZXhSIiwiaW5oZXJpdHMiOiJ0Y3JHIiwicHJvY2VzcyI6InBCR3YifV0sIkZScE8iOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0Ijt2YXIgZSx0PSJvYmplY3QiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0Om51bGwsbj10JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5hcHBseT90LmFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LG4pfTtmdW5jdGlvbiByKGUpe2NvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGUpfWU9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQub3duS2V5cz90Lm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O3ZhciBpPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIG8oKXtvLmluaXQuY2FsbCh0aGlzKX1tb2R1bGUuZXhwb3J0cz1vLG1vZHVsZS5leHBvcnRzLm9uY2U9bSxvLkV2ZW50RW1pdHRlcj1vLG8ucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLG8ucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLG8ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBzPTEwO2Z1bmN0aW9uIHUoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJsaXN0ZW5lciIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIHZvaWQgMD09PWUuX21heExpc3RlbmVycz9vLmRlZmF1bHRNYXhMaXN0ZW5lcnM6ZS5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGMoZSx0LG4saSl7dmFyIG8scyxjO2lmKHUobiksdm9pZCAwPT09KHM9ZS5fZXZlbnRzKT8ocz1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09cy5uZXdMaXN0ZW5lciYmKGUuZW1pdCgibmV3TGlzdGVuZXIiLHQsbi5saXN0ZW5lcj9uLmxpc3RlbmVyOm4pLHM9ZS5fZXZlbnRzKSxjPXNbdF0pLHZvaWQgMD09PWMpYz1zW3RdPW4sKytlLl9ldmVudHNDb3VudDtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBjP2M9c1t0XT1pP1tuLGNdOltjLG5dOmk/Yy51bnNoaWZ0KG4pOmMucHVzaChuKSwobz1mKGUpKT4wJiZjLmxlbmd0aD5vJiYhYy53YXJuZWQpe2Mud2FybmVkPSEwO3ZhciB2PW5ldyBFcnJvcigiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAiK2MubGVuZ3RoKyIgIitTdHJpbmcodCkrIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Iik7di5uYW1lPSJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmciLHYuZW1pdHRlcj1lLHYudHlwZT10LHYuY291bnQ9Yy5sZW5ndGgscih2KX1yZXR1cm4gZX1mdW5jdGlvbiB2KCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgcj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6bn0saT12LmJpbmQocik7cmV0dXJuIGkubGlzdGVuZXI9bixyLndyYXBGbj1pLGl9ZnVuY3Rpb24gcChlLHQsbil7dmFyIHI9ZS5fZXZlbnRzO2lmKHZvaWQgMD09PXIpcmV0dXJuW107dmFyIGk9clt0XTtyZXR1cm4gdm9pZCAwPT09aT9bXToiZnVuY3Rpb24iPT10eXBlb2YgaT9uP1tpLmxpc3RlbmVyfHxpXTpbaV06bj9kKGkpOmgoaSxpLmxlbmd0aCl9ZnVuY3Rpb24gYShlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09dCl7dmFyIG49dFtlXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gMTtpZih2b2lkIDAhPT1uKXJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciBuPW5ldyBBcnJheSh0KSxyPTA7cjx0OysrciluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24geShlLHQpe2Zvcig7dCsxPGUubGVuZ3RoO3QrKyllW3RdPWVbdCsxXTtlLnBvcCgpfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaShuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbykscihuKX1mdW5jdGlvbiBvKCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUucmVtb3ZlTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXIoImVycm9yIixpKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9ZyhlLHQsbyx7b25jZTohMH0pLCJlcnJvciIhPT10JiZMKGUsaSx7b25jZTohMH0pfSl9ZnVuY3Rpb24gTChlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIGUub24mJmcoZSwiZXJyb3IiLHQsbil9ZnVuY3Rpb24gZyhlLHQsbixyKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5vbilyLm9uY2U/ZS5vbmNlKHQsbik6ZS5vbih0LG4pO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImVtaXR0ZXIiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSk7ZS5hZGRFdmVudExpc3RlbmVyKHQsZnVuY3Rpb24gaShvKXtyLm9uY2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGkpLG4obyl9KX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImRlZmF1bHRNYXhMaXN0ZW5lcnMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlfHxlPDB8fGkoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiAiZGVmYXVsdE1heExpc3RlbmVycyIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlKyIuIik7cz1lfX0pLG8uaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LG8ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fGU8MHx8aShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJuIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrIi4iKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sby5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcyl9LG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQucHVzaChhcmd1bWVudHNbcl0pO3ZhciBpPSJlcnJvciI9PT1lLG89dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PW8paT1pJiZ2b2lkIDA9PT1vLmVycm9yO2Vsc2UgaWYoIWkpcmV0dXJuITE7aWYoaSl7dmFyIHM7aWYodC5sZW5ndGg+MCYmKHM9dFswXSkscyBpbnN0YW5jZW9mIEVycm9yKXRocm93IHM7dmFyIHU9bmV3IEVycm9yKCJVbmhhbmRsZWQgZXJyb3IuIisocz8iICgiK3MubWVzc2FnZSsiKSI6IiIpKTt0aHJvdyB1LmNvbnRleHQ9cyx1fXZhciBmPW9bZV07aWYodm9pZCAwPT09ZilyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZiluKGYsdGhpcyx0KTtlbHNle3ZhciBjPWYubGVuZ3RoLHY9aChmLGMpO2ZvcihyPTA7cjxjOysrciluKHZbcl0sdGhpcyx0KX1yZXR1cm4hMH0sby5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyh0aGlzLGUsdCwhMSl9LG8ucHJvdG90eXBlLm9uPW8ucHJvdG90eXBlLmFkZExpc3RlbmVyLG8ucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBjKHRoaXMsZSx0LCEwKX0sby5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiB1KHQpLHRoaXMub24oZSxsKHRoaXMsZSx0KSksdGhpc30sby5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB1KHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsbCh0aGlzLGUsdCkpLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scztpZih1KHQpLHZvaWQgMD09PShyPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49cltlXSkpcmV0dXJuIHRoaXM7aWYobj09PXR8fG4ubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSByW2VdLHIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsbi5saXN0ZW5lcnx8dCkpO2Vsc2UgaWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4pe2ZvcihpPS0xLG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dPT09dHx8bltvXS5saXN0ZW5lcj09PXQpe3M9bltvXS5saXN0ZW5lcixpPW87YnJlYWt9aWYoaTwwKXJldHVybiB0aGlzOzA9PT1pP24uc2hpZnQoKTp5KG4saSksMT09PW4ubGVuZ3RoJiYocltlXT1uWzBdKSx2b2lkIDAhPT1yLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHN8fHQpfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5vZmY9by5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsby5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtpZih2b2lkIDA9PT0obj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTp2b2lkIDAhPT1uW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgbltlXSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGksbz1PYmplY3Qua2V5cyhuKTtmb3Iocj0wO3I8by5sZW5ndGg7KytyKSJyZW1vdmVMaXN0ZW5lciIhPT0oaT1vW3JdKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoaSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZigiZnVuY3Rpb24iPT10eXBlb2YodD1uW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCk7ZWxzZSBpZih2b2lkIDAhPT10KWZvcihyPXQubGVuZ3RoLTE7cj49MDtyLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHRbcl0pO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHAodGhpcyxlLCEwKX0sby5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBwKHRoaXMsZSwhMSl9LG8ubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOmEuY2FsbChlLHQpfSxvLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWEsby5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2UodGhpcy5fZXZlbnRzKTpbXX07Cn0se31dLCJmaGc3IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewpjb25zdCByPXJlcXVpcmUoInV0aWwiKSx0PXJlcXVpcmUoImV2ZW50cy8iKTt2YXIgZT0ib2JqZWN0Ij09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLG49ZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuYXBwbHk/ZS5hcHBseTpmdW5jdGlvbihyLHQsZSl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHIsdCxlKX07ZnVuY3Rpb24gbygpe3QuY2FsbCh0aGlzKX1mdW5jdGlvbiBpKHIsdCxlKXt0cnl7bihyLHQsZSl9Y2F0Y2gobyl7c2V0VGltZW91dCgoKT0+e3Rocm93IG99KX19ZnVuY3Rpb24gZihyLHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodCksbj0wO248dDsrK24pZVtuXT1yW25dO3JldHVybiBlfW1vZHVsZS5leHBvcnRzPW8sci5pbmhlcml0cyhvLHQpLG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24ocil7Zm9yKHZhciB0PVtdLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXQucHVzaChhcmd1bWVudHNbZV0pO3ZhciBuPSJlcnJvciI9PT1yLG89dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PW8pbj1uJiZ2b2lkIDA9PT1vLmVycm9yO2Vsc2UgaWYoIW4pcmV0dXJuITE7aWYobil7dmFyIHU7aWYodC5sZW5ndGg+MCYmKHU9dFswXSksdSBpbnN0YW5jZW9mIEVycm9yKXRocm93IHU7dmFyIGw9bmV3IEVycm9yKCJVbmhhbmRsZWQgZXJyb3IuIisodT8iICgiK3UubWVzc2FnZSsiKSI6IiIpKTt0aHJvdyBsLmNvbnRleHQ9dSxsfXZhciBhPW9bcl07aWYodm9pZCAwPT09YSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYSlpKGEsdGhpcyx0KTtlbHNle3ZhciBjPWEubGVuZ3RoLHM9ZihhLGMpO2ZvcihlPTA7ZTxjOysrZSlpKHNbZV0sdGhpcyx0KX1yZXR1cm4hMH07Cn0seyJ1dGlsIjoiZ2ZVbiIsImV2ZW50cy8iOiJGUnBPIn1dLCJTUVpyIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewptb2R1bGUuZXhwb3J0cz1vLG8uZGVmYXVsdD1vLG8uc3RhYmxlPWEsby5zdGFibGVTdHJpbmdpZnk9YTt2YXIgZT0iWy4uLl0iLHI9IltDaXJjdWxhcl0iLHQ9W10saT1bXTtmdW5jdGlvbiBuKCl7cmV0dXJue2RlcHRoTGltaXQ6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZWRnZXNMaW1pdDpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn19ZnVuY3Rpb24gbyhlLHIsbyxmKXt2YXIgbDt2b2lkIDA9PT1mJiYoZj1uKCkpLHUoZSwiIiwwLFtdLHZvaWQgMCwwLGYpO3RyeXtsPTA9PT1pLmxlbmd0aD9KU09OLnN0cmluZ2lmeShlLHIsbyk6SlNPTi5zdHJpbmdpZnkoZSxzKHIpLG8pfWNhdGNoKGMpe3JldHVybiBKU09OLnN0cmluZ2lmeSgiW3VuYWJsZSB0byBzZXJpYWxpemUsIGNpcmN1bGFyIHJlZmVyZW5jZSBpcyB0b28gY29tcGxleCB0byBhbmFseXplXSIpfWZpbmFsbHl7Zm9yKDswIT09dC5sZW5ndGg7KXt2YXIgYT10LnBvcCgpOzQ9PT1hLmxlbmd0aD9PYmplY3QuZGVmaW5lUHJvcGVydHkoYVswXSxhWzFdLGFbM10pOmFbMF1bYVsxXV09YVsyXX19cmV0dXJuIGx9ZnVuY3Rpb24gZihlLHIsbixvKXt2YXIgZj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sbik7dm9pZCAwIT09Zi5nZXQ/Zi5jb25maWd1cmFibGU/KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLG4se3ZhbHVlOmV9KSx0LnB1c2goW28sbixyLGZdKSk6aS5wdXNoKFtyLG4sZV0pOihvW25dPWUsdC5wdXNoKFtvLG4scl0pKX1mdW5jdGlvbiB1KHQsaSxuLG8sbCxhLGMpe3ZhciBzO2lmKGErPTEsIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT09dCl7Zm9yKHM9MDtzPG8ubGVuZ3RoO3MrKylpZihvW3NdPT09dClyZXR1cm4gdm9pZCBmKHIsdCxpLGwpO2lmKHZvaWQgMCE9PWMuZGVwdGhMaW1pdCYmYT5jLmRlcHRoTGltaXQpcmV0dXJuIHZvaWQgZihlLHQsaSxsKTtpZih2b2lkIDAhPT1jLmVkZ2VzTGltaXQmJm4rMT5jLmVkZ2VzTGltaXQpcmV0dXJuIHZvaWQgZihlLHQsaSxsKTtpZihvLnB1c2godCksQXJyYXkuaXNBcnJheSh0KSlmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXUodFtzXSxzLHMsbyx0LGEsYyk7ZWxzZXt2YXIgZD1PYmplY3Qua2V5cyh0KTtmb3Iocz0wO3M8ZC5sZW5ndGg7cysrKXt2YXIgdj1kW3NdO3UodFt2XSx2LHMsbyx0LGEsYyl9fW8ucG9wKCl9fWZ1bmN0aW9uIGwoZSxyKXtyZXR1cm4gZTxyPy0xOmU+cj8xOjB9ZnVuY3Rpb24gYShlLHIsbyxmKXt2b2lkIDA9PT1mJiYoZj1uKCkpO3ZhciB1LGw9YyhlLCIiLDAsW10sdm9pZCAwLDAsZil8fGU7dHJ5e3U9MD09PWkubGVuZ3RoP0pTT04uc3RyaW5naWZ5KGwscixvKTpKU09OLnN0cmluZ2lmeShsLHMociksbyl9Y2F0Y2goZCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KCJbdW5hYmxlIHRvIHNlcmlhbGl6ZSwgY2lyY3VsYXIgcmVmZXJlbmNlIGlzIHRvbyBjb21wbGV4IHRvIGFuYWx5emVdIil9ZmluYWxseXtmb3IoOzAhPT10Lmxlbmd0aDspe3ZhciBhPXQucG9wKCk7ND09PWEubGVuZ3RoP09iamVjdC5kZWZpbmVQcm9wZXJ0eShhWzBdLGFbMV0sYVszXSk6YVswXVthWzFdXT1hWzJdfX1yZXR1cm4gdX1mdW5jdGlvbiBjKGksbixvLHUsYSxzLGQpe3ZhciB2O2lmKHMrPTEsIm9iamVjdCI9PXR5cGVvZiBpJiZudWxsIT09aSl7Zm9yKHY9MDt2PHUubGVuZ3RoO3YrKylpZih1W3ZdPT09aSlyZXR1cm4gdm9pZCBmKHIsaSxuLGEpO3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04pcmV0dXJufWNhdGNoKHkpe3JldHVybn1pZih2b2lkIDAhPT1kLmRlcHRoTGltaXQmJnM+ZC5kZXB0aExpbWl0KXJldHVybiB2b2lkIGYoZSxpLG4sYSk7aWYodm9pZCAwIT09ZC5lZGdlc0xpbWl0JiZvKzE+ZC5lZGdlc0xpbWl0KXJldHVybiB2b2lkIGYoZSxpLG4sYSk7aWYodS5wdXNoKGkpLEFycmF5LmlzQXJyYXkoaSkpZm9yKHY9MDt2PGkubGVuZ3RoO3YrKyljKGlbdl0sdix2LHUsaSxzLGQpO2Vsc2V7dmFyIHA9e30sZz1PYmplY3Qua2V5cyhpKS5zb3J0KGwpO2Zvcih2PTA7djxnLmxlbmd0aDt2Kyspe3ZhciBoPWdbdl07YyhpW2hdLGgsdix1LGkscyxkKSxwW2hdPWlbaF19aWYodm9pZCAwPT09YSlyZXR1cm4gcDt0LnB1c2goW2EsbixpXSksYVtuXT1wfXUucG9wKCl9fWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU9dm9pZCAwIT09ZT9lOmZ1bmN0aW9uKGUscil7cmV0dXJuIHJ9LGZ1bmN0aW9uKHIsdCl7aWYoaS5sZW5ndGg+MClmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTtpZihvWzFdPT09ciYmb1swXT09PXQpe3Q9b1syXSxpLnNwbGljZShuLDEpO2JyZWFrfX1yZXR1cm4gZS5jYWxsKHRoaXMscix0KX19Cn0se31dLCJaemFWIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewpjb25zdCByPXJlcXVpcmUoImZhc3Qtc2FmZS1zdHJpbmdpZnkiKTtjbGFzcyBlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IocixlLHQpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHIpKXRocm93IG5ldyBFcnJvcignImNvZGUiIG11c3QgYmUgYW4gaW50ZWdlci4nKTtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcignIm1lc3NhZ2UiIG11c3QgYmUgYSBub25lbXB0eSBzdHJpbmcuJyk7c3VwZXIoZSksdGhpcy5jb2RlPXIsdm9pZCAwIT09dCYmKHRoaXMuZGF0YT10KX1zZXJpYWxpemUoKXtjb25zdCByPXtjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHZvaWQgMCE9PXRoaXMuZGF0YSYmKHIuZGF0YT10aGlzLmRhdGEpLHRoaXMuc3RhY2smJihyLnN0YWNrPXRoaXMuc3RhY2spLHJ9dG9TdHJpbmcoKXtyZXR1cm4gcih0aGlzLnNlcmlhbGl6ZSgpLGksMil9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHIsZSx0KXtpZighcyhyKSl0aHJvdyBuZXcgRXJyb3IoJyJjb2RlIiBtdXN0IGJlIGFuIGludGVnZXIgc3VjaCB0aGF0OiAxMDAwIDw9IGNvZGUgPD0gNDk5OScpO3N1cGVyKHIsZSx0KX19ZnVuY3Rpb24gcyhyKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihyKSYmcj49MWUzJiZyPD00OTk5fWZ1bmN0aW9uIGkocixlKXtpZigiW0NpcmN1bGFyXSIhPT1lKXJldHVybiBlfW1vZHVsZS5leHBvcnRzPXtFdGhlcmV1bVJwY0Vycm9yOmUsRXRoZXJldW1Qcm92aWRlckVycm9yOnR9Owp9LHsiZmFzdC1zYWZlLXN0cmluZ2lmeSI6IlNRWnIifV0sIkJtaUsiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7Cm1vZHVsZS5leHBvcnRzPXsiLTMyNzAwIjp7c3RhbmRhcmQ6IkpTT04gUlBDIDIuMCIsbWVzc2FnZToiSW52YWxpZCBKU09OIHdhcyByZWNlaXZlZCBieSB0aGUgc2VydmVyLiBBbiBlcnJvciBvY2N1cnJlZCBvbiB0aGUgc2VydmVyIHdoaWxlIHBhcnNpbmcgdGhlIEpTT04gdGV4dC4ifSwiLTMyNjAwIjp7c3RhbmRhcmQ6IkpTT04gUlBDIDIuMCIsbWVzc2FnZToiVGhlIEpTT04gc2VudCBpcyBub3QgYSB2YWxpZCBSZXF1ZXN0IG9iamVjdC4ifSwiLTMyNjAxIjp7c3RhbmRhcmQ6IkpTT04gUlBDIDIuMCIsbWVzc2FnZToiVGhlIG1ldGhvZCBkb2VzIG5vdCBleGlzdCAvIGlzIG5vdCBhdmFpbGFibGUuIn0sIi0zMjYwMiI6e3N0YW5kYXJkOiJKU09OIFJQQyAyLjAiLG1lc3NhZ2U6IkludmFsaWQgbWV0aG9kIHBhcmFtZXRlcihzKS4ifSwiLTMyNjAzIjp7c3RhbmRhcmQ6IkpTT04gUlBDIDIuMCIsbWVzc2FnZToiSW50ZXJuYWwgSlNPTi1SUEMgZXJyb3IuIn0sIi0zMjAwMCI6e3N0YW5kYXJkOiJFSVAgMTQ3NCIsbWVzc2FnZToiSW52YWxpZCBpbnB1dC4ifSwiLTMyMDAxIjp7c3RhbmRhcmQ6IkVJUCAxNDc0IixtZXNzYWdlOiJSZXNvdXJjZSBub3QgZm91bmQuIn0sIi0zMjAwMiI6e3N0YW5kYXJkOiJFSVAgMTQ3NCIsbWVzc2FnZToiUmVzb3VyY2UgdW5hdmFpbGFibGUuIn0sIi0zMjAwMyI6e3N0YW5kYXJkOiJFSVAgMTQ3NCIsbWVzc2FnZToiVHJhbnNhY3Rpb24gcmVqZWN0ZWQuIn0sIi0zMjAwNCI6e3N0YW5kYXJkOiJFSVAgMTQ3NCIsbWVzc2FnZToiTWV0aG9kIG5vdCBzdXBwb3J0ZWQuIn0sIi0zMjAwNSI6e3N0YW5kYXJkOiJFSVAgMTQ3NCIsbWVzc2FnZToiUmVxdWVzdCBsaW1pdCBleGNlZWRlZC4ifSw0MDAxOntzdGFuZGFyZDoiRUlQIDExOTMiLG1lc3NhZ2U6IlVzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3QuIn0sNDEwMDp7c3RhbmRhcmQ6IkVJUCAxMTkzIixtZXNzYWdlOiJUaGUgcmVxdWVzdGVkIGFjY291bnQgYW5kL29yIG1ldGhvZCBoYXMgbm90IGJlZW4gYXV0aG9yaXplZCBieSB0aGUgdXNlci4ifSw0MjAwOntzdGFuZGFyZDoiRUlQIDExOTMiLG1lc3NhZ2U6IlRoZSByZXF1ZXN0ZWQgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBFdGhlcmV1bSBwcm92aWRlci4ifSw0OTAwOntzdGFuZGFyZDoiRUlQIDExOTMiLG1lc3NhZ2U6IlRoZSBwcm92aWRlciBpcyBkaXNjb25uZWN0ZWQgZnJvbSBhbGwgY2hhaW5zLiJ9LDQ5MDE6e3N0YW5kYXJkOiJFSVAgMTE5MyIsbWVzc2FnZToiVGhlIHByb3ZpZGVyIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzcGVjaWZpZWQgY2hhaW4uIn19Owp9LHt9XSwiUzE2bCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKbW9kdWxlLmV4cG9ydHM9e3JwYzp7aW52YWxpZElucHV0Oi0zMmUzLHJlc291cmNlTm90Rm91bmQ6LTMyMDAxLHJlc291cmNlVW5hdmFpbGFibGU6LTMyMDAyLHRyYW5zYWN0aW9uUmVqZWN0ZWQ6LTMyMDAzLG1ldGhvZE5vdFN1cHBvcnRlZDotMzIwMDQsbGltaXRFeGNlZWRlZDotMzIwMDUscGFyc2U6LTMyNzAwLGludmFsaWRSZXF1ZXN0Oi0zMjYwMCxtZXRob2ROb3RGb3VuZDotMzI2MDEsaW52YWxpZFBhcmFtczotMzI2MDIsaW50ZXJuYWw6LTMyNjAzfSxwcm92aWRlcjp7dXNlclJlamVjdGVkUmVxdWVzdDo0MDAxLHVuYXV0aG9yaXplZDo0MTAwLHVuc3VwcG9ydGVkTWV0aG9kOjQyMDAsZGlzY29ubmVjdGVkOjQ5MDAsY2hhaW5EaXNjb25uZWN0ZWQ6NDkwMX19Owp9LHt9XSwiWlZ2RCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKY29uc3QgZT1yZXF1aXJlKCIuL2Vycm9yVmFsdWVzLmpzb24iKSxyPXJlcXVpcmUoIi4vZXJyb3JDb2Rlcy5qc29uIikucnBjLmludGVybmFsLHtFdGhlcmV1bVJwY0Vycm9yOnN9PXJlcXVpcmUoIi4vY2xhc3NlcyIpLHQ9IlVuc3BlY2lmaWVkIHNlcnZlciBlcnJvci4iLG89IlVuc3BlY2lmaWVkIGVycm9yIG1lc3NhZ2UuIFRoaXMgaXMgYSBidWcsIHBsZWFzZSByZXBvcnQgaXQuIixuPXtjb2RlOnIsbWVzc2FnZTphKHIpfTtmdW5jdGlvbiBhKHIscz1vKXtpZihOdW1iZXIuaXNJbnRlZ2VyKHIpKXtjb25zdCBzPXIudG9TdHJpbmcoKTtpZihlW3NdKXJldHVybiBlW3NdLm1lc3NhZ2U7aWYoZyhyKSlyZXR1cm4gdH1yZXR1cm4gc31mdW5jdGlvbiBpKHIpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHIpKXJldHVybiExO2NvbnN0IHM9ci50b1N0cmluZygpO3JldHVybiEhZVtzXXx8ISFnKHIpfWZ1bmN0aW9uIGMoZSx7ZmFsbGJhY2tFcnJvcjpyPW4sc2hvdWxkSW5jbHVkZVN0YWNrOnQ9ITF9PXt9KXtpZighcnx8IU51bWJlci5pc0ludGVnZXIoci5jb2RlKXx8InN0cmluZyIhPXR5cGVvZiByLm1lc3NhZ2UpdGhyb3cgbmV3IEVycm9yKCJNdXN0IHByb3ZpZGUgZmFsbGJhY2sgZXJyb3Igd2l0aCBpbnRlZ2VyIG51bWJlciBjb2RlIGFuZCBzdHJpbmcgbWVzc2FnZS4iKTtpZihlIGluc3RhbmNlb2YgcylyZXR1cm4gZS5zZXJpYWxpemUoKTtjb25zdCBvPXt9O3JldHVybiBlJiZpKGUuY29kZSk/KG8uY29kZT1lLmNvZGUsZS5tZXNzYWdlJiYic3RyaW5nIj09dHlwZW9mIGUubWVzc2FnZT8oby5tZXNzYWdlPWUubWVzc2FnZSwiZGF0YSJpbiBlJiYoby5kYXRhPWUuZGF0YSkpOihvLm1lc3NhZ2U9YShvLmNvZGUpLG8uZGF0YT17b3JpZ2luYWxFcnJvcjp1KGUpfSkpOihvLmNvZGU9ci5jb2RlLG8ubWVzc2FnZT1lJiZlLm1lc3NhZ2U/ZS5tZXNzYWdlOnIubWVzc2FnZSxvLmRhdGE9e29yaWdpbmFsRXJyb3I6dShlKX0pLHQmJmUmJiJzdHJpbmciPT10eXBlb2YgZS5zdGFjayYmKG8uc3RhY2s9ZS5zdGFjayksb31mdW5jdGlvbiBnKGUpe3JldHVybiBlPj0tMzIwOTkmJmU8PS0zMmUzfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk/ey4uLmV9OmV9bW9kdWxlLmV4cG9ydHM9e2dldE1lc3NhZ2VGcm9tQ29kZTphLGlzVmFsaWRDb2RlOmksc2VyaWFsaXplRXJyb3I6YyxKU09OX1JQQ19TRVJWRVJfRVJST1JfTUVTU0FHRTp0fTsKfSx7Ii4vZXJyb3JWYWx1ZXMuanNvbiI6IkJtaUsiLCIuL2Vycm9yQ29kZXMuanNvbiI6IlMxNmwiLCIuL2NsYXNzZXMiOiJaemFWIn1dLCJmaFRMIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewpjb25zdHtFdGhlcmV1bVJwY0Vycm9yOmUsRXRoZXJldW1Qcm92aWRlckVycm9yOnJ9PXJlcXVpcmUoIi4vY2xhc3NlcyIpLHtnZXRNZXNzYWdlRnJvbUNvZGU6dH09cmVxdWlyZSgiLi91dGlscyIpLG89cmVxdWlyZSgiLi9lcnJvckNvZGVzLmpzb24iKTtmdW5jdGlvbiBuKHIsbyl7Y29uc3RbbixpXT1zKG8pO3JldHVybiBuZXcgZShyLG58fHQociksaSl9ZnVuY3Rpb24gaShlLG8pe2NvbnN0W24saV09cyhvKTtyZXR1cm4gbmV3IHIoZSxufHx0KGUpLGkpfWZ1bmN0aW9uIHMoZSl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybltlXTtpZigib2JqZWN0Ij09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpKXtjb25zdHttZXNzYWdlOnIsZGF0YTp0fT1lO3JldHVybltyLHRdfX1yZXR1cm5bXX1tb2R1bGUuZXhwb3J0cz17cnBjOntwYXJzZTplPT5uKG8ucnBjLnBhcnNlLGUpLGludmFsaWRSZXF1ZXN0OmU9Pm4oby5ycGMuaW52YWxpZFJlcXVlc3QsZSksaW52YWxpZFBhcmFtczplPT5uKG8ucnBjLmludmFsaWRQYXJhbXMsZSksbWV0aG9kTm90Rm91bmQ6ZT0+bihvLnJwYy5tZXRob2ROb3RGb3VuZCxlKSxpbnRlcm5hbDplPT5uKG8ucnBjLmludGVybmFsLGUpLHNlcnZlcjplPT57aWYoIWV8fCJvYmplY3QiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoIkV0aGVyZXVtIFJQQyBTZXJ2ZXIgZXJyb3JzIG11c3QgcHJvdmlkZSBzaW5nbGUgb2JqZWN0IGFyZ3VtZW50LiIpO2NvbnN0e2NvZGU6cn09ZTtpZighTnVtYmVyLmlzSW50ZWdlcihyKXx8cj4tMzIwMDV8fHI8LTMyMDk5KXRocm93IG5ldyBFcnJvcignImNvZGUiIG11c3QgYmUgYW4gaW50ZWdlciBzdWNoIHRoYXQ6IC0zMjA5OSA8PSBjb2RlIDw9IC0zMjAwNScpO3JldHVybiBuKHIsZSl9LGludmFsaWRJbnB1dDplPT5uKG8ucnBjLmludmFsaWRJbnB1dCxlKSxyZXNvdXJjZU5vdEZvdW5kOmU9Pm4oby5ycGMucmVzb3VyY2VOb3RGb3VuZCxlKSxyZXNvdXJjZVVuYXZhaWxhYmxlOmU9Pm4oby5ycGMucmVzb3VyY2VVbmF2YWlsYWJsZSxlKSx0cmFuc2FjdGlvblJlamVjdGVkOmU9Pm4oby5ycGMudHJhbnNhY3Rpb25SZWplY3RlZCxlKSxtZXRob2ROb3RTdXBwb3J0ZWQ6ZT0+bihvLnJwYy5tZXRob2ROb3RTdXBwb3J0ZWQsZSksbGltaXRFeGNlZWRlZDplPT5uKG8ucnBjLmxpbWl0RXhjZWVkZWQsZSl9LHByb3ZpZGVyOnt1c2VyUmVqZWN0ZWRSZXF1ZXN0OmU9Pmkoby5wcm92aWRlci51c2VyUmVqZWN0ZWRSZXF1ZXN0LGUpLHVuYXV0aG9yaXplZDplPT5pKG8ucHJvdmlkZXIudW5hdXRob3JpemVkLGUpLHVuc3VwcG9ydGVkTWV0aG9kOmU9Pmkoby5wcm92aWRlci51bnN1cHBvcnRlZE1ldGhvZCxlKSxkaXNjb25uZWN0ZWQ6ZT0+aShvLnByb3ZpZGVyLmRpc2Nvbm5lY3RlZCxlKSxjaGFpbkRpc2Nvbm5lY3RlZDplPT5pKG8ucHJvdmlkZXIuY2hhaW5EaXNjb25uZWN0ZWQsZSksY3VzdG9tOmU9PntpZighZXx8Im9iamVjdCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiRXRoZXJldW0gUHJvdmlkZXIgY3VzdG9tIGVycm9ycyBtdXN0IHByb3ZpZGUgc2luZ2xlIG9iamVjdCBhcmd1bWVudC4iKTtjb25zdHtjb2RlOnQsbWVzc2FnZTpvLGRhdGE6bn09ZTtpZighb3x8InN0cmluZyIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcignIm1lc3NhZ2UiIG11c3QgYmUgYSBub25lbXB0eSBzdHJpbmcnKTtyZXR1cm4gbmV3IHIodCxvLG4pfX19Owp9LHsiLi9jbGFzc2VzIjoiWnphViIsIi4vdXRpbHMiOiJaVnZEIiwiLi9lcnJvckNvZGVzLmpzb24iOiJTMTZsIn1dLCJFdThYIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewpjb25zdHtFdGhlcmV1bVJwY0Vycm9yOnIsRXRoZXJldW1Qcm92aWRlckVycm9yOmV9PXJlcXVpcmUoIi4vc3JjL2NsYXNzZXMiKSx7c2VyaWFsaXplRXJyb3I6byxnZXRNZXNzYWdlRnJvbUNvZGU6c309cmVxdWlyZSgiLi9zcmMvdXRpbHMiKSxFPXJlcXVpcmUoIi4vc3JjL2Vycm9ycyIpLGk9cmVxdWlyZSgiLi9zcmMvZXJyb3JDb2Rlcy5qc29uIik7bW9kdWxlLmV4cG9ydHM9e2V0aEVycm9yczpFLEV0aGVyZXVtUnBjRXJyb3I6cixFdGhlcmV1bVByb3ZpZGVyRXJyb3I6ZSxzZXJpYWxpemVFcnJvcjpvLGdldE1lc3NhZ2VGcm9tQ29kZTpzLEVSUk9SX0NPREVTOml9Owp9LHsiLi9zcmMvY2xhc3NlcyI6Ilp6YVYiLCIuL3NyYy91dGlscyI6IlpWdkQiLCIuL3NyYy9lcnJvcnMiOiJmaFRMIiwiLi9zcmMvZXJyb3JDb2Rlcy5qc29uIjoiUzE2bCJ9XSwiZTNWRCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO2NvbnN0IHI9cmVxdWlyZSgic2FmZS1ldmVudC1lbWl0dGVyIikse3NlcmlhbGl6ZUVycm9yOmUsRXRoZXJldW1ScGNFcnJvcjpuLEVSUk9SX0NPREVTOnR9PXJlcXVpcmUoImV0aC1ycGMtZXJyb3JzIik7bW9kdWxlLmV4cG9ydHM9Y2xhc3MgcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX21pZGRsZXdhcmU9W119cHVzaChyKXt0aGlzLl9taWRkbGV3YXJlLnB1c2gocil9aGFuZGxlKHIsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/ZT92b2lkIHRoaXMuX2hhbmRsZUJhdGNoKHIpLnRoZW4ocj0+ZShudWxsLHIpKS5jYXRjaChyPT5lKHIpKTp0aGlzLl9oYW5kbGVCYXRjaChyKTplP3RoaXMuX2hhbmRsZShyLGUpOnRoaXMuX3Byb21pc2VIYW5kbGUocil9YXN5bmMgX2hhbmRsZUJhdGNoKHIpe3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChyLm1hcCh0aGlzLl9wcm9taXNlSGFuZGxlLmJpbmQodGhpcykpKX1fcHJvbWlzZUhhbmRsZShyKXtyZXR1cm4gbmV3IFByb21pc2UoZT0+e3RoaXMuX2hhbmRsZShyLChyLG4pPT57ZShuKX0pfSl9X2hhbmRsZShyLG4pe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSxyKSxzPXtpZDp0LmlkLGpzb25ycGM6dC5qc29ucnBjfTtsZXQgaTt0aGlzLl9wcm9jZXNzUmVxdWVzdCh0LHMpLmNhdGNoKHI9PntpPXJ9KS5maW5hbGx5KCgpPT57Y29uc3Qgcj1zLl9vcmlnaW5hbEVycm9yO2RlbGV0ZSBzLl9vcmlnaW5hbEVycm9yO2NvbnN0IHQ9cnx8aXx8bnVsbDt0JiYoZGVsZXRlIHMucmVzdWx0LHMuZXJyb3J8fChzLmVycm9yPWUodCkpKSxuKHQscyl9KX1hc3luYyBfcHJvY2Vzc1JlcXVlc3QocixlKXtjb25zdHtpc0NvbXBsZXRlOm4scmV0dXJuSGFuZGxlcnM6dH09YXdhaXQgdGhpcy5fcnVuQWxsTWlkZGxld2FyZShyLGUpO3RoaXMuX2NoZWNrRm9yQ29tcGxldGlvbihyLGUsbiksYXdhaXQgdGhpcy5fcnVuUmV0dXJuSGFuZGxlcnModCl9YXN5bmMgX3J1blJldHVybkhhbmRsZXJzKHIpe2Zvcihjb25zdCBlIG9mIHIpYXdhaXQgbmV3IFByb21pc2UoKHIsbik9PntlKGU9PmU/bihlKTpyKCkpfSl9X2NoZWNrRm9yQ29tcGxldGlvbihyLGUscyl7aWYoISgicmVzdWx0ImluIGV8fCJlcnJvciJpbiBlKSl7Y29uc3QgZT1gSnNvblJwY0VuZ2luZTogUmVzcG9uc2UgaGFzIG5vIGVycm9yIG9yIHJlc3VsdCBmb3IgcmVxdWVzdDpcbiR7SlNPTi5zdHJpbmdpZnkocixudWxsLDIpfWA7dGhyb3cgbmV3IG4odC5ycGMuaW50ZXJuYWwsZSxyKX1pZighcyl7Y29uc3QgZT1gSnNvblJwY0VuZ2luZTogTm90aGluZyBlbmRlZCByZXF1ZXN0OlxuJHtKU09OLnN0cmluZ2lmeShyLG51bGwsMil9YDt0aHJvdyBuZXcgbih0LnJwYy5pbnRlcm5hbCxlLHIpfX1hc3luYyBfcnVuQWxsTWlkZGxld2FyZShyLGUpe2NvbnN0IG49W107bGV0IHQ9ITE7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fbWlkZGxld2FyZSlpZih0PWF3YWl0IHMuX3J1bk1pZGRsZXdhcmUocixlLGksbikpYnJlYWs7cmV0dXJue2lzQ29tcGxldGU6dCxyZXR1cm5IYW5kbGVyczpuLnJldmVyc2UoKX19c3RhdGljIF9ydW5NaWRkbGV3YXJlKHIsbix0LHMpe3JldHVybiBuZXcgUHJvbWlzZShpPT57Y29uc3Qgbz1yPT57Y29uc3QgdD1yfHxuJiZuLmVycm9yO3QmJihuLmVycm9yPWUodCksbi5fb3JpZ2luYWxFcnJvcj10KSxpKCEwKX0sYT1yPT57bi5lcnJvcj9vKG4uZXJyb3IpOihyJiZzLnB1c2gociksaSghMSkpfTt0cnl7dChyLG4sYSxvKX1jYXRjaChsKXtvKGwpfX0pfX07Cn0seyJzYWZlLWV2ZW50LWVtaXR0ZXIiOiJmaGc3IiwiZXRoLXJwYy1lcnJvcnMiOiJFdThYIn1dLCJ6eHdJIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IGU9cmVxdWlyZSgiZXZlbnRzIik7ZnVuY3Rpb24gdChlLHQscil7dHJ5e1JlZmxlY3QuYXBwbHkoZSx0LHIpfWNhdGNoKG4pe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyBufSl9fWZ1bmN0aW9uIHIoZSl7Y29uc3QgdD1lLmxlbmd0aCxyPW5ldyBBcnJheSh0KTtmb3IobGV0IG49MDtuPHQ7bis9MSlyW25dPWVbbl07cmV0dXJuIHJ9Y2xhc3MgbiBleHRlbmRzIGUuRXZlbnRFbWl0dGVye2VtaXQoZSwuLi5uKXtsZXQgbz0iZXJyb3IiPT09ZTtjb25zdCBzPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1zKW89byYmdm9pZCAwPT09cy5lcnJvcjtlbHNlIGlmKCFvKXJldHVybiExO2lmKG8pe2xldCBlO2lmKG4ubGVuZ3RoPjAmJihbZV09biksZSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGU7Y29uc3QgdD1uZXcgRXJyb3IoYFVuaGFuZGxlZCBlcnJvci4ke2U/YCAoJHtlLm1lc3NhZ2V9KWA6IiJ9YCk7dGhyb3cgdC5jb250ZXh0PWUsdH1jb25zdCBpPXNbZV07aWYodm9pZCAwPT09aSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgaSl0KGksdGhpcyxuKTtlbHNle2NvbnN0IGU9aS5sZW5ndGgsbz1yKGkpO2ZvcihsZXQgcj0wO3I8ZTtyKz0xKXQob1tyXSx0aGlzLG4pfXJldHVybiEwfX1leHBvcnRzLmRlZmF1bHQ9bjsKfSx7ImV2ZW50cyI6IkZScE8ifV0sIkZvY20iOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0Ijt2YXIgZT1uKHJlcXVpcmUoIkBtZXRhbWFzay9zYWZlLWV2ZW50LWVtaXR0ZXIiKSk7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19Y29uc3QgdD1yZXF1aXJlKCJqc29uLXJwYy1lbmdpbmUvc3JjL2NyZWF0ZUFzeW5jTWlkZGxld2FyZSIpLGk9cmVxdWlyZSgianNvbi1ycGMtZW5naW5lIikscj17YWNjb3VudHNDaGFuZ2VkOiEwLGNoYWluQ2hhbmdlZDohMCxjb25uZWN0OiEwLG5ldHdvcmtDaGFuZ2VkOiJCaXRpemVuOiBUaGUgZXZlbnQgJ25ldHdvcmtDaGFuZ2VkJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgJ2NoYWluQ2hhbmdlZCcgaW5zdGVhZC5cbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyNjaGFpbmNoYW5nZWQifTthc3luYyBmdW5jdGlvbiBvKCl7Zm9yKDsoIXdpbmRvdy5mbHV0dGVyX2luYXBwd2Vidmlld3x8IXdpbmRvdy5mbHV0dGVyX2luYXBwd2Vidmlldy5jYWxsSGFuZGxlcikmJndpbmRvdy5ldGhlcmV1bS5pc0JpdGl6ZW47KWF3YWl0IG5ldyBQcm9taXNlKGU9PntzZXRUaW1lb3V0KGUsMzAwKX0pO3JldHVybiB3aW5kb3cuZmx1dHRlcl9pbmFwcHdlYnZpZXd9Y29uc3Qgcz1uZXcgaTtzLnB1c2godChhc3luYyhlLG4sdCk9Pnt0cnl7Y29uc3QgdD1hd2FpdCBvKCkscj1hd2FpdCB0LmNhbGxIYW5kbGVyKCJCaXRpemVuUnBjUmVxdWVzdCIsSlNPTi5zdHJpbmdpZnkoZSkpO24uZXJyb3I9ci5lcnJvcixuLnJlc3VsdD1yLnJlc3VsdH1jYXRjaChpKXtuLmVycm9yPWl9fSkpLHdpbmRvdy5ldGhlcmV1bT17aXNCaXRpemVuOiEwLGRlYnVnOiExLGlzQ29ubmVjdGVkOigpPT4iIiE9d2luZG93LmV0aGVyZXVtLmNoYWluSWQsY2hhaW5JZDoiMHgxIixuZXR3b3JrVmVyc2lvbjoiIixyZXFJZDoxLHZlcnNpb246IjAuMC4xOCIsX2JpdGl6ZW5FdmVudEVtaXR0ZXI6bmV3IGUuZGVmYXVsdCxfYml0aXplblJwY0JyaWRnZTpzLF9CaXRpemVuRXZlbnRFbWl0KGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTtfYml0aXplbkNvbnNvbGUuZGVidWcoIkJpdGl6ZW46IFtkZWJ1Z10gZW1pdCIsZSxuKSwiY2hhaW5DaGFuZ2VkIj09ZSYmKHdpbmRvdy5ldGhlcmV1bS5jaGFpbklkPW5bMF0pLHdpbmRvdy5ldGhlcmV1bS5fYml0aXplbkV2ZW50RW1pdHRlci5lbWl0KGUsLi4ubil9LHJlcXVlc3Q6YXN5bmMgZT0+KGUuanNvbnJwY3x8KGUuanNvbnJwYz0iMi4wIiksZS5pZHx8KGUuaWQ9d2luZG93LmV0aGVyZXVtLnJlcUlkKyspLGUuY2hhaW5JZHx8KGUuY2hhaW5JZD13aW5kb3cuZXRoZXJldW0uY2hhaW5JZCksX2JpdGl6ZW5Db25zb2xlLmRlYnVnKCJCaXRpemVuOiBbZGVidWddIHJlcXVlc3QiLEpTT04uc3RyaW5naWZ5KGUpKSxuZXcgUHJvbWlzZShhc3luYyhuLHQpPT57bGV0IGk7ImV0aF9jaGFpbklkIiE9ZS5tZXRob2Q/KGk9YXdhaXQgd2luZG93LmV0aGVyZXVtLl9iaXRpemVuUnBjQnJpZGdlLmhhbmRsZShlKSxfYml0aXplbkNvbnNvbGUuZGVidWcoIkJpdGl6ZW46IFtkZWJ1Z10gcmVzcG9uc2UiLGUuaWQsSlNPTi5zdHJpbmdpZnkoaSkpLGkuZXJyb3I/dChpLmVycm9yKTpuKGkucmVzdWx0KSk6bigoaT17aWQ6ZS5pZCxqc29ucnBjOmUuanNvbnJwYyxyZXN1bHQ6d2luZG93LmV0aGVyZXVtLmNoYWluSWR9KS5yZXN1bHQpfSkpLG9uOihlLG4pPT57bGV0IHQ9cltlXTt0Pygic3RyaW5nIj09dHlwZW9mIHQmJl9iaXRpemVuQ29uc29sZS53YXJuKHQpLHdpbmRvdy5ldGhlcmV1bS5fYml0aXplbkV2ZW50RW1pdHRlci5vbihlLG4pKTpfYml0aXplbkNvbnNvbGUuZXJyb3IoIkJpdGl6ZW46ICciK2UrIicgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSBvciB1bnN1cHBvcnRlZCBmb3Igbm93LlxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzIil9LG9uY2U6KGUsbik9PntsZXQgdD1yW2VdO3Q/KCJzdHJpbmciPT10eXBlb2YgdCYmX2JpdGl6ZW5Db25zb2xlLndhcm4odCksd2luZG93LmV0aGVyZXVtLl9iaXRpemVuRXZlbnRFbWl0dGVyLm9uY2UoZSxuKSk6X2JpdGl6ZW5Db25zb2xlLmVycm9yKCJCaXRpemVuOiAnIitlKyInIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUgb3IgdW5zdXBwb3J0ZWQgZm9yIG5vdy5cbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyIpfSxlbmFibGU6KCk9PihfYml0aXplbkNvbnNvbGUud2FybigiQml0aXplbjogJ2V0aGVyZXVtLmVuYWJsZSgpJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlBsZWFzZSB1c2UgdGhlICdldGhfcmVxdWVzdEFjY291bnRzJyBSUEMgbWV0aG9kIGluc3RlYWQuXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExMDIiKSx3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7bWV0aG9kOiJldGhfcmVxdWVzdEFjY291bnRzIn0pKSxzZW5kQXN5bmM6KGUsbik9PntfYml0aXplbkNvbnNvbGUud2FybigiQml0aXplbjogJ2V0aGVyZXVtLnNlbmRBc3luYyguLi4pJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlBsZWFzZSB1c2UgJ2V0aGVyZXVtLnJlcXVlc3QoLi4uKScgaW5zdGVhZC5cbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyIpLF9iaXRpemVuQ29uc29sZS5kZWJ1ZygiQml0aXplbjogW2RlYnVnXSBzZW5kQXN5bmMgcmVxdWVzdCIsZSxuKSwib2JqZWN0IiE9dHlwZW9mIGUmJihlPXttZXRob2Q6ZSxwYXJhbXM6bn0pLHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KGUpLnRoZW4odD0+e2NvbnN0IGk9e2lkOmUuaWQsanNvbnJwYzplLmpzb25ycGMscmVzdWx0OnR9O24obnVsbCxpKSxfYml0aXplbkNvbnNvbGUuZGVidWcoIkJpdGl6ZW46IFtkZWJ1Z10gc2VuZEFzeW5jIHJlc3BvbnNlIixpKX0pLmNhdGNoKHQ9Pntjb25zdCBpPXtpZDplLmlkLGpzb25ycGM6ZS5qc29ucnBjLGVycm9yOnR9O24odCxpKSxfYml0aXplbkNvbnNvbGUuZGVidWcoIkJpdGl6ZW46IFtkZWJ1Z10gc2VuZEFzeW5jIHJlc3BvbnNlIixpKX0pfSxzZW5kOihlLG4pPT4oX2JpdGl6ZW5Db25zb2xlLndhcm4oIkJpdGl6ZW46ICdldGhlcmV1bS5zZW5kKC4uLiknIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuUGxlYXNlIHVzZSAnZXRoZXJldW0ucmVxdWVzdCguLi4pJyBpbnN0ZWFkLlxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzIiksX2JpdGl6ZW5Db25zb2xlLmRlYnVnKCJCaXRpemVuOiBbZGVidWddIHNlbmQgcmVxdWVzdCIsZSxuKSwib2JqZWN0IiE9dHlwZW9mIGU/bmV3IFByb21pc2UoYXN5bmModCxpKT0+e3RyeXtjb25zdCBvPWF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHttZXRob2Q6ZSxwYXJhbXM6bn0pO19iaXRpemVuQ29uc29sZS5kZWJ1ZygiQml0aXplbjogW2RlYnVnXSBzZW5kIHJlc3BvbnNlIixvKSx0KHtpZDp2b2lkIDAsanNvbnJwYzoiMi4wIixyZXN1bHQ6b30pfWNhdGNoKHIpe19iaXRpemVuQ29uc29sZS5kZWJ1ZygiQml0aXplbjogW2RlYnVnXSBzZW5kIHJlc3BvbnNlIixyKSxpKHIpfX0pOm4/dm9pZCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdChlKS50aGVuKHQ9Pntjb25zdCBpPXtpZDplLmlkLGpzb25ycGM6ZS5qc29ucnBjLHJlc3VsdDp0fTtuKG51bGwsaSksX2JpdGl6ZW5Db25zb2xlLmRlYnVnKCJCaXRpemVuOiBbZGVidWddIHNlbmQgcmVzcG9uc2UiLGkpfSkuY2F0Y2godD0+e2NvbnN0IGk9e2lkOmUuaWQsanNvbnJwYzplLmpzb25ycGMsZXJyb3I6dH07bih0LGkpLF9iaXRpemVuQ29uc29sZS5kZWJ1ZygiQml0aXplbjogW2RlYnVnXSBzZW5kIHJlc3BvbnNlIixpKX0pOndpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KGUpKSxyZW1vdmVMaXN0ZW5lcjooZSxuKT0+d2luZG93LmV0aGVyZXVtLl9iaXRpemVuRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGUsbikscmVtb3ZlQWxsTGlzdGVuZXJzOmU9PndpbmRvdy5ldGhlcmV1bS5fYml0aXplbkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZSl9Owp9LHsianNvbi1ycGMtZW5naW5lL3NyYy9jcmVhdGVBc3luY01pZGRsZXdhcmUiOiJhMkN6IiwianNvbi1ycGMtZW5naW5lIjoiZTNWRCIsIkBtZXRhbWFzay9zYWZlLWV2ZW50LWVtaXR0ZXIiOiJ6eHdJIn1dfSx7fSxbIkZvY20iXSwgbnVsbCk="));

